<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>STL uploader debug</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #fafafa;
    }
  </style>
</head>
<body>
  <h2>Upload je STL-bestand</h2>
  <div id="uploader"></div>

  <script>
    console.log("✅ Pagina geladen, script starten...");

    const testScript = document.createElement("script");
    testScript.src = "https://js.bytescale.com/upload-widget/v3";
    testScript.onload = () => {
      console.log("✅ Bytescale script is geladen!");
      console.log("Upload object:", typeof Upload);
      alert("Script geladen, check console.");

      if (typeof Upload === "undefined") {
        alert("Upload bestaat niet, waarschijnlijk geblokkeerd door GitHub of browser.");
        return;
      }

      const uploader = Upload.create({
        apiKey: "public_xxx_jouw_key",
        multi: false,
        mimeTypes: ["model/stl"],
        maxFileCount: 1,
        layout: "inline",
        container: "#uploader",
        onUpdate: (files) => {
          if (files.length > 0) {
            alert("✅ STL geüpload: " + files[0].fileUrl);
          }
        },
      });
    };
    testScript.onerror = () => {
      console.error("❌ Script kon niet geladen worden.");
      alert("Kon upload-widget niet laden. Controleer netwerk of firewall.");
    };
    document.body.appendChild(testScript);
  </script>
</body>
</html>
